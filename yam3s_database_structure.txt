CREATE TABLE `record_series` (
  `id` INT_UNSIGNED PRIMARY KEY AUTO_INCREMENT,
  `label` VARCHAR(100),
  `starting_up_time_in_ms_rx` INT_UNSIGNED,
  `starting_controller_unix_time_in_ms_rx` INT_UNSIGNED,
  `starting_up_time_in_ms_tx` INT_UNSIGNED,
  `starting_controller_unix_time_in_ms_tx` INT_UNSIGNED,
  `lat_in_deg_xe7_tx` INT,
  `lon_in_deg_xe7_tx` INT,
  `starting_lat_in_deg_xe7_rx` INT,
  `starting_lon_in_deg_xe7_rx` INT
);

CREATE TABLE `rx_imu` (
  `id` INT_UNSIGNED PRIMARY KEY AUTO_INCREMENT,
  `record_series_id` INT_UNSIGNED,
  `controller_unix_time_in_ms` INT_UNSIGNED,
  `up_time_in_ms` INT_UNSIGNED,
  `quat_real` FLOAT,
  `quat_i` FLOAT,
  `quat_j` FLOAT,
  `quat_k` FLOAT,
  `quat_radian_accuracy` FLOAT,
  `mag_x` FLOAT,
  `mag_y` FLOAT,
  `mag_z` FLOAT,
  `mag_accuracy` CHAR(1)
);

CREATE TABLE `rx_gps` (
  `id` INT_UNSIGNED PRIMARY KEY AUTO_INCREMENT,
  `record_series_id` INT_UNSIGNED,
  `controller_unix_time_in_ms` INT_UNSIGNED,
  `up_time_in_ms` INT_UNSIGNED,
  `time_of_week_in_ms` INT_UNSIGNED,
  `lat_in_deg_x_e7` INT,
  `lon_in_deg_x_e7` INT,
  `alt_in_mm_mean_sea_level` INT,
  `alt_in_mm_ellipsoid` INT,
  `hor_accuracy_in_m_xe4` INT_UNSIGNED,
  `ver_accuracy_in_m_xe4` INT_UNSIGNED,
  `sats_in_view` TINYINT_UNSIGNED,
  `fix_type` TINYINT_UNSIGNED,
  `year` SMALLINT_UNSIGNED,
  `month` TINYINT_UNSIGNED,
  `day` TINYINT_UNSIGNED,
  `hour` TINYINT_UNSIGNED,
  `minute` TINYINT_UNSIGNED,
  `second` TINYINT_UNSIGNED,
  `millisecond` SMALLINT_UNSIGNED,
  `nanosecond` INT,
  `speed_in_m_per_sx3` INT,
  `heading_in_deg_xe5` INT,
  `pdod_xe2` SMALLINT_UNSIGNED
);

CREATE TABLE `tx_imu` (
  `id` INT_UNSIGNED PRIMARY KEY AUTO_INCREMENT,
  `record_series_id` INT_UNSIGNED,
  `controller_unix_time_in_ms` INT_UNSIGNED,
  `up_time_in_ms` INT_UNSIGNED,
  `quat_real` FLOAT,
  `quat_i` FLOAT,
  `quat_j` FLOAT,
  `quat_k` FLOAT,
  `quat_radian_accuracy` FLOAT,
  `mag_x` FLOAT,
  `mag_y` FLOAT,
  `mag_z` FLOAT,
  `mag_accuracy` CHAR
);

ALTER TABLE `rx_imu` ADD FOREIGN KEY (`record_series_id`) REFERENCES `record_series` (`id`);

ALTER TABLE `rx_gps` ADD FOREIGN KEY (`record_series_id`) REFERENCES `record_series` (`id`);

ALTER TABLE `tx_imu` ADD FOREIGN KEY (`record_series_id`) REFERENCES `record_series` (`id`);
